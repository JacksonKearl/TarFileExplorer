var TarUtils = (function (exports) {
    'use strict';

    class ByteStream {
        constructor(bytes) {
            this.bytes = bytes;
            this.byteIndexCurrent = 0;
        }
        hasMoreBytes() {
            return this.byteIndexCurrent < this.bytes.length;
        }
        readBytes(numberOfBytesToRead) {
            const start = this.byteIndexCurrent;
            this.byteIndexCurrent += numberOfBytesToRead;
            return this.bytes.slice(start, this.byteIndexCurrent);
        }
        readByte() {
            let returnValue = this.bytes[this.byteIndexCurrent];
            this.byteIndexCurrent++;
            return returnValue;
        }
        readString(lengthOfString) {
            let returnValue = '';
            for (let i = 0; i < lengthOfString; i++) {
                const byte = this.readByte();
                if (byte != 0) {
                    const byteAsChar = String.fromCharCode(byte);
                    returnValue += byteAsChar;
                }
            }
            return returnValue;
        }
    }

    const ChunkSize = 512;

    class TarFileTypeFlag {
        constructor(value, name) {
            this.value = value;
            this.id = '_' + this.value;
            this.name = name;
        }
        static Instances() {
            if (TarFileTypeFlag._instances == null) {
                TarFileTypeFlag._instances = new TarFileTypeFlag_Instances();
            }
            return TarFileTypeFlag._instances;
        }
    }
    class TarFileTypeFlag_Instances {
        constructor() {
            this.Normal = new TarFileTypeFlag('0', 'Normal');
            this.HardLink = new TarFileTypeFlag('1', 'Hard Link');
            this.SymbolicLink = new TarFileTypeFlag('2', 'Symbolic Link');
            this.CharacterSpecial = new TarFileTypeFlag('3', 'Character Special');
            this.BlockSpecial = new TarFileTypeFlag('4', 'Block Special');
            this.Directory = new TarFileTypeFlag('5', 'Directory');
            this.FIFO = new TarFileTypeFlag('6', 'FIFO');
            this.ContiguousFile = new TarFileTypeFlag('7', 'Contiguous File');
            this.LongFilePath = new TarFileTypeFlag('L', '././@LongLink');
            this._All = [
                this.Normal,
                this.HardLink,
                this.SymbolicLink,
                this.CharacterSpecial,
                this.BlockSpecial,
                this.Directory,
                this.FIFO,
                this.ContiguousFile,
                this.LongFilePath,
            ];
            for (let i = 0; i < this._All.length; i++) {
                const item = this._All[i];
                this._All[item.id] = item;
            }
        }
    }

    class TarFileEntryHeader {
        constructor(fileName, fileMode, userIDOfOwner, userIDOfGroup, fileSizeInBytes, timeModifiedInUnixFormat, checksum, typeFlag, nameOfLinkedFile, uStarIndicator, uStarVersion, userNameOfOwner, groupNameOfOwner, deviceNumberMajor, deviceNumberMinor, filenamePrefix) {
            this.fileName = fileName;
            this.fileMode = fileMode;
            this.userIDOfOwner = userIDOfOwner;
            this.userIDOfGroup = userIDOfGroup;
            this.fileSizeInBytes = fileSizeInBytes;
            this.timeModifiedInUnixFormat = timeModifiedInUnixFormat;
            this.checksum = checksum;
            this.typeFlag = typeFlag;
            this.nameOfLinkedFile = nameOfLinkedFile;
            this.uStarIndicator = uStarIndicator;
            this.uStarVersion = uStarVersion;
            this.userNameOfOwner = userNameOfOwner;
            this.groupNameOfOwner = groupNameOfOwner;
            this.deviceNumberMajor = deviceNumberMajor;
            this.deviceNumberMinor = deviceNumberMinor;
            this.filenamePrefix = filenamePrefix;
        }
        static fromBytes(bytes) {
            const reader = new ByteStream(bytes);
            const fileName = reader.readString(100).trim();
            const fileMode = reader.readString(8);
            const userIDOfOwner = reader.readString(8);
            const userIDOfGroup = reader.readString(8);
            const fileSizeInBytesAsStringOctal = reader.readString(12);
            const timeModifiedInUnixFormat = reader.readBytes(12);
            const checksumAsStringOctal = reader.readString(8);
            const typeFlagValue = reader.readString(1);
            const nameOfLinkedFile = reader.readString(100);
            const uStarIndicator = reader.readString(6);
            const uStarVersion = reader.readString(2);
            const userNameOfOwner = reader.readString(32);
            const groupNameOfOwner = reader.readString(32);
            const deviceNumberMajor = reader.readString(8);
            const deviceNumberMinor = reader.readString(8);
            const filenamePrefix = reader.readString(155);
            const reserved = reader.readBytes(12);
            const fileSizeInBytes = parseInt(fileSizeInBytesAsStringOctal.trim(), 8);
            const checksum = parseInt(checksumAsStringOctal, 8);
            const typeFlags = TarFileTypeFlag.Instances()._All;
            const typeFlagID = '_' + typeFlagValue;
            const typeFlag = typeFlags[typeFlagID];
            let returnValue = new TarFileEntryHeader(fileName, fileMode, userIDOfOwner, userIDOfGroup, fileSizeInBytes, timeModifiedInUnixFormat, checksum, typeFlag, nameOfLinkedFile, uStarIndicator, uStarVersion, userNameOfOwner, groupNameOfOwner, deviceNumberMajor, deviceNumberMinor, filenamePrefix);
            return returnValue;
        }
    }

    class TarFileEntry {
        constructor(header, dataAsBytes) {
            this.header = header;
            this.dataAsBytes = dataAsBytes;
        }
        static fromBytes(chunkAsBytes, reader) {
            const chunkSize = ChunkSize;
            const header = TarFileEntryHeader.fromBytes(chunkAsBytes);
            const sizeOfDataEntryInBytesUnpadded = header.fileSizeInBytes;
            const numberOfChunksOccupiedByDataEntry = Math.ceil(sizeOfDataEntryInBytesUnpadded / chunkSize);
            const sizeOfDataEntryInBytesPadded = numberOfChunksOccupiedByDataEntry * chunkSize;
            const dataAsBytes = reader
                .readBytes(sizeOfDataEntryInBytesPadded)
                .slice(0, sizeOfDataEntryInBytesUnpadded);
            const entry = new TarFileEntry(header, dataAsBytes);
            return entry;
        }
    }

    class TarFile {
        constructor(entries) {
            this.entries = entries;
        }
        static fromBytes(bytes) {
            const reader = new ByteStream(bytes);
            const entries = [];
            const chunkSize = ChunkSize;
            let numberOfConsecutiveZeroChunks = 0;
            while (reader.hasMoreBytes() == true) {
                const chunkAsBytes = reader.readBytes(chunkSize);
                let areAllBytesInChunkZeroes = true;
                for (let b = 0; b < chunkAsBytes.length; b++) {
                    if (chunkAsBytes[b] != 0) {
                        areAllBytesInChunkZeroes = false;
                        break;
                    }
                }
                if (areAllBytesInChunkZeroes == true) {
                    numberOfConsecutiveZeroChunks++;
                    if (numberOfConsecutiveZeroChunks == 2) {
                        break;
                    }
                }
                else {
                    numberOfConsecutiveZeroChunks = 0;
                    const entry = TarFileEntry.fromBytes(chunkAsBytes, reader);
                    entries.push(entry);
                }
            }
            let returnValue = new TarFile(entries);
            returnValue.consolidateLongPathEntries();
            return returnValue;
        }
        consolidateLongPathEntries() {
            var _a;
            const typeFlagLongPathName = TarFileTypeFlag.Instances().LongFilePath.name;
            const entries = this.entries;
            for (let i = 0; i < entries.length; i++) {
                const entry = entries[i];
                if (((_a = entry.header.typeFlag) === null || _a === void 0 ? void 0 : _a.name) == typeFlagLongPathName) {
                    const entryNext = entries[i + 1];
                    entryNext.header.fileName = entry.dataAsBytes.reduce((a, b) => (a += String.fromCharCode(b)), '');
                    entryNext.header.fileName = entryNext.header.fileName.replace(/\0/g, '');
                    entries.splice(i, 1);
                    i--;
                }
            }
        }
    }

    const readTar = (tarball) => TarFile.fromBytes(tarball);

    exports.readTar = readTar;

    return exports;

}({}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL2J1aWxkL0J5dGVTdHJlYW0uanMiLCIuLi9idWlsZC9Db25zdGFudHMuanMiLCIuLi9idWlsZC9UYXJGaWxlVHlwZUZsYWcuanMiLCIuLi9idWlsZC9UYXJGaWxlRW50cnlIZWFkZXIuanMiLCIuLi9idWlsZC9UYXJGaWxlRW50cnkuanMiLCIuLi9idWlsZC9UYXJGaWxlLmpzIiwiLi4vYnVpbGQvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEJ5dGVTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKGJ5dGVzKSB7XG4gICAgICAgIHRoaXMuYnl0ZXMgPSBieXRlcztcbiAgICAgICAgdGhpcy5ieXRlSW5kZXhDdXJyZW50ID0gMDtcbiAgICB9XG4gICAgaGFzTW9yZUJ5dGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ieXRlSW5kZXhDdXJyZW50IDwgdGhpcy5ieXRlcy5sZW5ndGg7XG4gICAgfVxuICAgIHJlYWRCeXRlcyhudW1iZXJPZkJ5dGVzVG9SZWFkKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5ieXRlSW5kZXhDdXJyZW50O1xuICAgICAgICB0aGlzLmJ5dGVJbmRleEN1cnJlbnQgKz0gbnVtYmVyT2ZCeXRlc1RvUmVhZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZXMuc2xpY2Uoc3RhcnQsIHRoaXMuYnl0ZUluZGV4Q3VycmVudCk7XG4gICAgfVxuICAgIHJlYWRCeXRlKCkge1xuICAgICAgICBsZXQgcmV0dXJuVmFsdWUgPSB0aGlzLmJ5dGVzW3RoaXMuYnl0ZUluZGV4Q3VycmVudF07XG4gICAgICAgIHRoaXMuYnl0ZUluZGV4Q3VycmVudCsrO1xuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfVxuICAgIHJlYWRTdHJpbmcobGVuZ3RoT2ZTdHJpbmcpIHtcbiAgICAgICAgbGV0IHJldHVyblZhbHVlID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoT2ZTdHJpbmc7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYnl0ZSA9IHRoaXMucmVhZEJ5dGUoKTtcbiAgICAgICAgICAgIGlmIChieXRlICE9IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBieXRlQXNDaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSArPSBieXRlQXNDaGFyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CeXRlU3RyZWFtLmpzLm1hcCIsImV4cG9ydCBjb25zdCBGaWxlTmFtZU1heExlbmd0aCA9IDk5O1xuZXhwb3J0IGNvbnN0IEhlYWRlclNpemVJbkJ5dGVzID0gNTAwO1xuZXhwb3J0IGNvbnN0IENodW5rU2l6ZSA9IDUxMjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnN0YW50cy5qcy5tYXAiLCJleHBvcnQgY2xhc3MgVGFyRmlsZVR5cGVGbGFnIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaWQgPSAnXycgKyB0aGlzLnZhbHVlO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBzdGF0aWMgSW5zdGFuY2VzKCkge1xuICAgICAgICBpZiAoVGFyRmlsZVR5cGVGbGFnLl9pbnN0YW5jZXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgVGFyRmlsZVR5cGVGbGFnLl9pbnN0YW5jZXMgPSBuZXcgVGFyRmlsZVR5cGVGbGFnX0luc3RhbmNlcygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUYXJGaWxlVHlwZUZsYWcuX2luc3RhbmNlcztcbiAgICB9XG59XG5jbGFzcyBUYXJGaWxlVHlwZUZsYWdfSW5zdGFuY2VzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5Ob3JtYWwgPSBuZXcgVGFyRmlsZVR5cGVGbGFnKCcwJywgJ05vcm1hbCcpO1xuICAgICAgICB0aGlzLkhhcmRMaW5rID0gbmV3IFRhckZpbGVUeXBlRmxhZygnMScsICdIYXJkIExpbmsnKTtcbiAgICAgICAgdGhpcy5TeW1ib2xpY0xpbmsgPSBuZXcgVGFyRmlsZVR5cGVGbGFnKCcyJywgJ1N5bWJvbGljIExpbmsnKTtcbiAgICAgICAgdGhpcy5DaGFyYWN0ZXJTcGVjaWFsID0gbmV3IFRhckZpbGVUeXBlRmxhZygnMycsICdDaGFyYWN0ZXIgU3BlY2lhbCcpO1xuICAgICAgICB0aGlzLkJsb2NrU3BlY2lhbCA9IG5ldyBUYXJGaWxlVHlwZUZsYWcoJzQnLCAnQmxvY2sgU3BlY2lhbCcpO1xuICAgICAgICB0aGlzLkRpcmVjdG9yeSA9IG5ldyBUYXJGaWxlVHlwZUZsYWcoJzUnLCAnRGlyZWN0b3J5Jyk7XG4gICAgICAgIHRoaXMuRklGTyA9IG5ldyBUYXJGaWxlVHlwZUZsYWcoJzYnLCAnRklGTycpO1xuICAgICAgICB0aGlzLkNvbnRpZ3VvdXNGaWxlID0gbmV3IFRhckZpbGVUeXBlRmxhZygnNycsICdDb250aWd1b3VzIEZpbGUnKTtcbiAgICAgICAgdGhpcy5Mb25nRmlsZVBhdGggPSBuZXcgVGFyRmlsZVR5cGVGbGFnKCdMJywgJy4vLi9ATG9uZ0xpbmsnKTtcbiAgICAgICAgdGhpcy5fQWxsID0gW1xuICAgICAgICAgICAgdGhpcy5Ob3JtYWwsXG4gICAgICAgICAgICB0aGlzLkhhcmRMaW5rLFxuICAgICAgICAgICAgdGhpcy5TeW1ib2xpY0xpbmssXG4gICAgICAgICAgICB0aGlzLkNoYXJhY3RlclNwZWNpYWwsXG4gICAgICAgICAgICB0aGlzLkJsb2NrU3BlY2lhbCxcbiAgICAgICAgICAgIHRoaXMuRGlyZWN0b3J5LFxuICAgICAgICAgICAgdGhpcy5GSUZPLFxuICAgICAgICAgICAgdGhpcy5Db250aWd1b3VzRmlsZSxcbiAgICAgICAgICAgIHRoaXMuTG9uZ0ZpbGVQYXRoLFxuICAgICAgICBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX0FsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX0FsbFtpXTtcbiAgICAgICAgICAgIHRoaXMuX0FsbFtpdGVtLmlkXSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UYXJGaWxlVHlwZUZsYWcuanMubWFwIiwiaW1wb3J0IHsgQnl0ZVN0cmVhbSB9IGZyb20gJy4vQnl0ZVN0cmVhbSc7XG5pbXBvcnQgeyBUYXJGaWxlVHlwZUZsYWcgfSBmcm9tICcuL1RhckZpbGVUeXBlRmxhZyc7XG5leHBvcnQgY2xhc3MgVGFyRmlsZUVudHJ5SGVhZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihmaWxlTmFtZSwgZmlsZU1vZGUsIHVzZXJJRE9mT3duZXIsIHVzZXJJRE9mR3JvdXAsIGZpbGVTaXplSW5CeXRlcywgdGltZU1vZGlmaWVkSW5Vbml4Rm9ybWF0LCBjaGVja3N1bSwgdHlwZUZsYWcsIG5hbWVPZkxpbmtlZEZpbGUsIHVTdGFySW5kaWNhdG9yLCB1U3RhclZlcnNpb24sIHVzZXJOYW1lT2ZPd25lciwgZ3JvdXBOYW1lT2ZPd25lciwgZGV2aWNlTnVtYmVyTWFqb3IsIGRldmljZU51bWJlck1pbm9yLCBmaWxlbmFtZVByZWZpeCkge1xuICAgICAgICB0aGlzLmZpbGVOYW1lID0gZmlsZU5hbWU7XG4gICAgICAgIHRoaXMuZmlsZU1vZGUgPSBmaWxlTW9kZTtcbiAgICAgICAgdGhpcy51c2VySURPZk93bmVyID0gdXNlcklET2ZPd25lcjtcbiAgICAgICAgdGhpcy51c2VySURPZkdyb3VwID0gdXNlcklET2ZHcm91cDtcbiAgICAgICAgdGhpcy5maWxlU2l6ZUluQnl0ZXMgPSBmaWxlU2l6ZUluQnl0ZXM7XG4gICAgICAgIHRoaXMudGltZU1vZGlmaWVkSW5Vbml4Rm9ybWF0ID0gdGltZU1vZGlmaWVkSW5Vbml4Rm9ybWF0O1xuICAgICAgICB0aGlzLmNoZWNrc3VtID0gY2hlY2tzdW07XG4gICAgICAgIHRoaXMudHlwZUZsYWcgPSB0eXBlRmxhZztcbiAgICAgICAgdGhpcy5uYW1lT2ZMaW5rZWRGaWxlID0gbmFtZU9mTGlua2VkRmlsZTtcbiAgICAgICAgdGhpcy51U3RhckluZGljYXRvciA9IHVTdGFySW5kaWNhdG9yO1xuICAgICAgICB0aGlzLnVTdGFyVmVyc2lvbiA9IHVTdGFyVmVyc2lvbjtcbiAgICAgICAgdGhpcy51c2VyTmFtZU9mT3duZXIgPSB1c2VyTmFtZU9mT3duZXI7XG4gICAgICAgIHRoaXMuZ3JvdXBOYW1lT2ZPd25lciA9IGdyb3VwTmFtZU9mT3duZXI7XG4gICAgICAgIHRoaXMuZGV2aWNlTnVtYmVyTWFqb3IgPSBkZXZpY2VOdW1iZXJNYWpvcjtcbiAgICAgICAgdGhpcy5kZXZpY2VOdW1iZXJNaW5vciA9IGRldmljZU51bWJlck1pbm9yO1xuICAgICAgICB0aGlzLmZpbGVuYW1lUHJlZml4ID0gZmlsZW5hbWVQcmVmaXg7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tQnl0ZXMoYnl0ZXMpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEJ5dGVTdHJlYW0oYnl0ZXMpO1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IHJlYWRlci5yZWFkU3RyaW5nKDEwMCkudHJpbSgpO1xuICAgICAgICBjb25zdCBmaWxlTW9kZSA9IHJlYWRlci5yZWFkU3RyaW5nKDgpO1xuICAgICAgICBjb25zdCB1c2VySURPZk93bmVyID0gcmVhZGVyLnJlYWRTdHJpbmcoOCk7XG4gICAgICAgIGNvbnN0IHVzZXJJRE9mR3JvdXAgPSByZWFkZXIucmVhZFN0cmluZyg4KTtcbiAgICAgICAgY29uc3QgZmlsZVNpemVJbkJ5dGVzQXNTdHJpbmdPY3RhbCA9IHJlYWRlci5yZWFkU3RyaW5nKDEyKTtcbiAgICAgICAgY29uc3QgdGltZU1vZGlmaWVkSW5Vbml4Rm9ybWF0ID0gcmVhZGVyLnJlYWRCeXRlcygxMik7XG4gICAgICAgIGNvbnN0IGNoZWNrc3VtQXNTdHJpbmdPY3RhbCA9IHJlYWRlci5yZWFkU3RyaW5nKDgpO1xuICAgICAgICBjb25zdCB0eXBlRmxhZ1ZhbHVlID0gcmVhZGVyLnJlYWRTdHJpbmcoMSk7XG4gICAgICAgIGNvbnN0IG5hbWVPZkxpbmtlZEZpbGUgPSByZWFkZXIucmVhZFN0cmluZygxMDApO1xuICAgICAgICBjb25zdCB1U3RhckluZGljYXRvciA9IHJlYWRlci5yZWFkU3RyaW5nKDYpO1xuICAgICAgICBjb25zdCB1U3RhclZlcnNpb24gPSByZWFkZXIucmVhZFN0cmluZygyKTtcbiAgICAgICAgY29uc3QgdXNlck5hbWVPZk93bmVyID0gcmVhZGVyLnJlYWRTdHJpbmcoMzIpO1xuICAgICAgICBjb25zdCBncm91cE5hbWVPZk93bmVyID0gcmVhZGVyLnJlYWRTdHJpbmcoMzIpO1xuICAgICAgICBjb25zdCBkZXZpY2VOdW1iZXJNYWpvciA9IHJlYWRlci5yZWFkU3RyaW5nKDgpO1xuICAgICAgICBjb25zdCBkZXZpY2VOdW1iZXJNaW5vciA9IHJlYWRlci5yZWFkU3RyaW5nKDgpO1xuICAgICAgICBjb25zdCBmaWxlbmFtZVByZWZpeCA9IHJlYWRlci5yZWFkU3RyaW5nKDE1NSk7XG4gICAgICAgIGNvbnN0IHJlc2VydmVkID0gcmVhZGVyLnJlYWRCeXRlcygxMik7XG4gICAgICAgIGNvbnN0IGZpbGVTaXplSW5CeXRlcyA9IHBhcnNlSW50KGZpbGVTaXplSW5CeXRlc0FzU3RyaW5nT2N0YWwudHJpbSgpLCA4KTtcbiAgICAgICAgY29uc3QgY2hlY2tzdW0gPSBwYXJzZUludChjaGVja3N1bUFzU3RyaW5nT2N0YWwsIDgpO1xuICAgICAgICBjb25zdCB0eXBlRmxhZ3MgPSBUYXJGaWxlVHlwZUZsYWcuSW5zdGFuY2VzKCkuX0FsbDtcbiAgICAgICAgY29uc3QgdHlwZUZsYWdJRCA9ICdfJyArIHR5cGVGbGFnVmFsdWU7XG4gICAgICAgIGNvbnN0IHR5cGVGbGFnID0gdHlwZUZsYWdzW3R5cGVGbGFnSURdO1xuICAgICAgICBsZXQgcmV0dXJuVmFsdWUgPSBuZXcgVGFyRmlsZUVudHJ5SGVhZGVyKGZpbGVOYW1lLCBmaWxlTW9kZSwgdXNlcklET2ZPd25lciwgdXNlcklET2ZHcm91cCwgZmlsZVNpemVJbkJ5dGVzLCB0aW1lTW9kaWZpZWRJblVuaXhGb3JtYXQsIGNoZWNrc3VtLCB0eXBlRmxhZywgbmFtZU9mTGlua2VkRmlsZSwgdVN0YXJJbmRpY2F0b3IsIHVTdGFyVmVyc2lvbiwgdXNlck5hbWVPZk93bmVyLCBncm91cE5hbWVPZk93bmVyLCBkZXZpY2VOdW1iZXJNYWpvciwgZGV2aWNlTnVtYmVyTWlub3IsIGZpbGVuYW1lUHJlZml4KTtcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRhckZpbGVFbnRyeUhlYWRlci5qcy5tYXAiLCJpbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgVGFyRmlsZUVudHJ5SGVhZGVyIH0gZnJvbSAnLi9UYXJGaWxlRW50cnlIZWFkZXInO1xuZXhwb3J0IGNsYXNzIFRhckZpbGVFbnRyeSB7XG4gICAgY29uc3RydWN0b3IoaGVhZGVyLCBkYXRhQXNCeXRlcykge1xuICAgICAgICB0aGlzLmhlYWRlciA9IGhlYWRlcjtcbiAgICAgICAgdGhpcy5kYXRhQXNCeXRlcyA9IGRhdGFBc0J5dGVzO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUJ5dGVzKGNodW5rQXNCeXRlcywgcmVhZGVyKSB7XG4gICAgICAgIGNvbnN0IGNodW5rU2l6ZSA9IENvbnN0YW50cy5DaHVua1NpemU7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IFRhckZpbGVFbnRyeUhlYWRlci5mcm9tQnl0ZXMoY2h1bmtBc0J5dGVzKTtcbiAgICAgICAgY29uc3Qgc2l6ZU9mRGF0YUVudHJ5SW5CeXRlc1VucGFkZGVkID0gaGVhZGVyLmZpbGVTaXplSW5CeXRlcztcbiAgICAgICAgY29uc3QgbnVtYmVyT2ZDaHVua3NPY2N1cGllZEJ5RGF0YUVudHJ5ID0gTWF0aC5jZWlsKHNpemVPZkRhdGFFbnRyeUluQnl0ZXNVbnBhZGRlZCAvIGNodW5rU2l6ZSk7XG4gICAgICAgIGNvbnN0IHNpemVPZkRhdGFFbnRyeUluQnl0ZXNQYWRkZWQgPSBudW1iZXJPZkNodW5rc09jY3VwaWVkQnlEYXRhRW50cnkgKiBjaHVua1NpemU7XG4gICAgICAgIGNvbnN0IGRhdGFBc0J5dGVzID0gcmVhZGVyXG4gICAgICAgICAgICAucmVhZEJ5dGVzKHNpemVPZkRhdGFFbnRyeUluQnl0ZXNQYWRkZWQpXG4gICAgICAgICAgICAuc2xpY2UoMCwgc2l6ZU9mRGF0YUVudHJ5SW5CeXRlc1VucGFkZGVkKTtcbiAgICAgICAgY29uc3QgZW50cnkgPSBuZXcgVGFyRmlsZUVudHJ5KGhlYWRlciwgZGF0YUFzQnl0ZXMpO1xuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGFyRmlsZUVudHJ5LmpzLm1hcCIsImltcG9ydCB7IEJ5dGVTdHJlYW0gfSBmcm9tICcuL0J5dGVTdHJlYW0nO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4vQ29uc3RhbnRzJztcbmltcG9ydCB7IFRhckZpbGVFbnRyeSB9IGZyb20gJy4vVGFyRmlsZUVudHJ5JztcbmltcG9ydCB7IFRhckZpbGVUeXBlRmxhZyB9IGZyb20gJy4vVGFyRmlsZVR5cGVGbGFnJztcbmV4cG9ydCBjbGFzcyBUYXJGaWxlIHtcbiAgICBjb25zdHJ1Y3RvcihlbnRyaWVzKSB7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IGVudHJpZXM7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tQnl0ZXMoYnl0ZXMpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEJ5dGVTdHJlYW0oYnl0ZXMpO1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gW107XG4gICAgICAgIGNvbnN0IGNodW5rU2l6ZSA9IENvbnN0YW50cy5DaHVua1NpemU7XG4gICAgICAgIGxldCBudW1iZXJPZkNvbnNlY3V0aXZlWmVyb0NodW5rcyA9IDA7XG4gICAgICAgIHdoaWxlIChyZWFkZXIuaGFzTW9yZUJ5dGVzKCkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgY2h1bmtBc0J5dGVzID0gcmVhZGVyLnJlYWRCeXRlcyhjaHVua1NpemUpO1xuICAgICAgICAgICAgbGV0IGFyZUFsbEJ5dGVzSW5DaHVua1plcm9lcyA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCBiID0gMDsgYiA8IGNodW5rQXNCeXRlcy5sZW5ndGg7IGIrKykge1xuICAgICAgICAgICAgICAgIGlmIChjaHVua0FzQnl0ZXNbYl0gIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBhcmVBbGxCeXRlc0luQ2h1bmtaZXJvZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFyZUFsbEJ5dGVzSW5DaHVua1plcm9lcyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZDb25zZWN1dGl2ZVplcm9DaHVua3MrKztcbiAgICAgICAgICAgICAgICBpZiAobnVtYmVyT2ZDb25zZWN1dGl2ZVplcm9DaHVua3MgPT0gMikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBudW1iZXJPZkNvbnNlY3V0aXZlWmVyb0NodW5rcyA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnkgPSBUYXJGaWxlRW50cnkuZnJvbUJ5dGVzKGNodW5rQXNCeXRlcywgcmVhZGVyKTtcbiAgICAgICAgICAgICAgICBlbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCByZXR1cm5WYWx1ZSA9IG5ldyBUYXJGaWxlKGVudHJpZXMpO1xuICAgICAgICByZXR1cm5WYWx1ZS5jb25zb2xpZGF0ZUxvbmdQYXRoRW50cmllcygpO1xuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfVxuICAgIGNvbnNvbGlkYXRlTG9uZ1BhdGhFbnRyaWVzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHR5cGVGbGFnTG9uZ1BhdGhOYW1lID0gVGFyRmlsZVR5cGVGbGFnLkluc3RhbmNlcygpLkxvbmdGaWxlUGF0aC5uYW1lO1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1tpXTtcbiAgICAgICAgICAgIGlmICgoKF9hID0gZW50cnkuaGVhZGVyLnR5cGVGbGFnKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmFtZSkgPT0gdHlwZUZsYWdMb25nUGF0aE5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRyeU5leHQgPSBlbnRyaWVzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBlbnRyeU5leHQuaGVhZGVyLmZpbGVOYW1lID0gZW50cnkuZGF0YUFzQnl0ZXMucmVkdWNlKChhLCBiKSA9PiAoYSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGIpKSwgJycpO1xuICAgICAgICAgICAgICAgIGVudHJ5TmV4dC5oZWFkZXIuZmlsZU5hbWUgPSBlbnRyeU5leHQuaGVhZGVyLmZpbGVOYW1lLnJlcGxhY2UoL1xcMC9nLCAnJyk7XG4gICAgICAgICAgICAgICAgZW50cmllcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGFyRmlsZS5qcy5tYXAiLCJpbXBvcnQgeyBUYXJGaWxlIH0gZnJvbSAnLi9UYXJGaWxlJztcbmV4cG9ydCBjb25zdCByZWFkVGFyID0gKHRhcmJhbGwpID0+IFRhckZpbGUuZnJvbUJ5dGVzKHRhcmJhbGwpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbIkNvbnN0YW50cy5DaHVua1NpemUiXSwibWFwcGluZ3MiOiI7OztJQUFPLE1BQU0sVUFBVSxDQUFDO0lBQ3hCLElBQUksV0FBVyxDQUFDLEtBQUssRUFBRTtJQUN2QixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQzNCLFFBQVEsSUFBSSxDQUFDLGdCQUFnQixHQUFHLENBQUMsQ0FBQztJQUNsQyxLQUFLO0lBQ0wsSUFBSSxZQUFZLEdBQUc7SUFDbkIsUUFBUSxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUN6RCxLQUFLO0lBQ0wsSUFBSSxTQUFTLENBQUMsbUJBQW1CLEVBQUU7SUFDbkMsUUFBUSxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7SUFDNUMsUUFBUSxJQUFJLENBQUMsZ0JBQWdCLElBQUksbUJBQW1CLENBQUM7SUFDckQsUUFBUSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM5RCxLQUFLO0lBQ0wsSUFBSSxRQUFRLEdBQUc7SUFDZixRQUFRLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDNUQsUUFBUSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUNoQyxRQUFRLE9BQU8sV0FBVyxDQUFDO0lBQzNCLEtBQUs7SUFDTCxJQUFJLFVBQVUsQ0FBQyxjQUFjLEVBQUU7SUFDL0IsUUFBUSxJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUM7SUFDN0IsUUFBUSxLQUFLLElBQUksQ0FB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
